"use strict";(self.webpackChunkrequests_http=self.webpackChunkrequests_http||[]).push([[923],{7923:(E,m,i)=>{i.r(m),i.d(m,{ReactiveSearchModule:()=>F});var h=i(6895),f=i(4556),u=i(433),g=i(529),p=i(4004),y=i(9300),Z=i(4986),v=i(4482),b=i(5403),M=i(4671);function U(e,s){return e===s}var A=i(3900),C=i(8505),t=i(1571);function L(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.version)}}const O=[{path:"",component:(()=>{class e{constructor(n){this.http=n,this.queryField=new u.NI,this.SEARCH_URL="https://api.cdnjs.com/libraries",this.FIELDS="name,description,version,homepage"}ngOnInit(){this.results$=this.queryField.valueChanges.pipe((0,p.U)(n=>n.trim()),(0,y.h)(n=>n.length>1),function R(e,s=Z.z){return(0,v.e)((n,o)=>{let a=null,l=null,r=null;const d=()=>{if(a){a.unsubscribe(),a=null;const c=l;l=null,o.next(c)}};function P(){const c=r+e,S=s.now();if(S<c)return a=this.schedule(void 0,c-S),void o.add(a);d()}n.subscribe((0,b.x)(o,c=>{l=c,r=s.now(),a||(a=s.schedule(P,e),o.add(a))},()=>{d(),o.complete()},void 0,()=>{l=a=null}))})}(100),function T(e,s=M.y){return e=e??U,(0,v.e)((n,o)=>{let a,l=!0;n.subscribe((0,b.x)(o,r=>{const d=s(r);(l||!e(a,d))&&(l=!1,a=d,o.next(r))}))})}(),(0,A.w)(n=>this.http.get(this.SEARCH_URL,{params:{search:n,fields:this.FIELDS}})),(0,C.b)(n=>this.total=n.total),(0,p.U)(n=>n.results))}onSearch(){let o=this.queryField.value;if(o&&""!==(o=o.trim())){let l=new g.LE;l=l.set("search",o),l=l.set("fields","name,description,version,homepage"),this.results$=this.http.get(this.SEARCH_URL,{params:l}).pipe((0,C.b)(r=>this.total=r.total),(0,p.U)(r=>r.results))}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lib-search"]],decls:21,vars:5,consts:[[1,"container","search-table"],[1,"search-box"],[1,"row"],[1,"col-md-9"],["type","text","id","myInput","placeholder","Pesquisar libs",1,"form-control",3,"formControl"],[1,"col-auto"],[1,"but","btn-lg","btn-success",3,"click"],[1,"search-list"],["id","myTable",1,"table"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"input",4),t.qZA(),t.TgZ(5,"div",5)(6,"button",6),t.NdJ("click",function(){return o.onSearch()}),t._uU(7,"Pesquisar"),t.qZA()()()(),t.TgZ(8,"div",7)(9,"h3"),t._uU(10),t.qZA(),t.TgZ(11,"table",8)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"Nome"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Vers\xe3o"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,L,5,2,"tr",9),t.ALo(20,"async"),t.qZA()()()()),2&n&&(t.xp6(4),t.Q6J("formControl",o.queryField),t.xp6(6),t.hij("",o.total," Registros encontrados."),t.xp6(9),t.Q6J("ngForOf",t.lcZ(20,3,o.results$)))},dependencies:[h.sg,u.Fj,u.JJ,u.oH,h.Ov],styles:[".search-table[_ngcontent-%COMP%]{padding:10%;margin-top:-6%}.search-box[_ngcontent-%COMP%]{border:1px solid #ababab;padding:3%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border:2px solid #eeeeee}.search-list[_ngcontent-%COMP%]{background:#fff;border:1px solid #ababab;border-top:none}.search-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background:#eee;padding:3%;margin-bottom:0%}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(O),f.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,x,u.UX]}),e})()}}]);